<!DOCTYPE html>
<html>
  <head>
    <title>Session Replay</title>
    <style>
      html,
      body {
        height: 100%;
        width: 100%;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center; /* Center horizontally */
        align-items: center; /* Center vertically */
      }
      iframe {
        width: 100%; /* Example width */
        height: 100%; /* Example height */
        border: none;
      }
    </style>
  </head>
  <body>
    <iframe
      title="Session Replay"
      allowfullscreen
      sandbox="allow-scripts allow-same-origin"
      srcdoc="
            <!DOCTYPE html>
            <html>
            <head>
                <title>Session Replay</title>
                <link rel='stylesheet' href='/rrweb-player/dist/style.css' />
                </head>
                <body>
                <script src='/rrweb-player/dist/index.js'></script>
                <script>
                    fetch('http://localhost:3001/sessions')
                    .then((response) => response.json())
                    .then((events) => {
                        new rrwebPlayer({
                            target: document.body,
                            props: {
                                events,
                            },
                        });
                    })
                    .catch((error) => {
                        console.error('Failed to load session:', error);
                    });
                </script>
            </body>
            </html>
        "
    ></iframe>
  </body>
</html>
